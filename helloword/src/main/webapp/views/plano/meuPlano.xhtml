<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/template.xhtml">
	<ui:define name="pageTitle">Home</ui:define>
	<ui:define name="body">
		<p:panel style="border: none;">
			<h:outputLabel styleClass="subtitlePages">Meu Plano </h:outputLabel>

			<p:separator />

			<h:panelGrid columns="2" id="gridPlano">

				<h:outputText value="Plano Atual: " />
				<h:outputText value="#{beanEmpresa.empresa.plano.nomePlano}" />

				<h:outputText value="Numero de Veiculos: " />
				<h:outputText
					value="#{beanEmpresa.empresa.plano.quantidadeVeiculos}" />

				<h:outputText value="CrÃ©dito utilizado R$: "
					rendered="#{beanEmpresa.empresa.plano.credito > 0}" />
				<h:outputText value="#{beanEmpresa.empresa.plano.credito}"
					rendered="#{beanEmpresa.empresa.plano.credito > 0}">
					<f:convertNumber pattern="#0.00" currencySymbol="R$"
						currencyCode="BRL" />
				</h:outputText>

				<h:outputText value="Valor do Plano R$: " />
				<h:outputText value="#{beanEmpresa.empresa.plano.valorPlano}">
					<f:convertNumber pattern="#0.00" currencySymbol="R$"
						currencyCode="BRL" />
				</h:outputText>

				<h:outputText value="Status do Plano: " />
				<h:outputText value="#{beanEmpresa.empresa.plano.status}"
					styleClass="#{beanEmpresa.empresa.status == 'Pendente' ? vencido : null}" />

				<h:outputText value="Vencimento: "
					rendered="#{beanEmpresa.empresa.plano.status != 'Aguardando Pagamento'}" />
				<h:outputText value="#{beanEmpresa.empresa.plano.vencimento}"
					styleClass="#{beanEmpresa.empresa.status == 'Pendente' ? vencido : null}"
					rendered="#{beanEmpresa.empresa.plano.status != 'Aguardando Pagamento'}">
					<f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT-03:00" />
				</h:outputText>

			</h:panelGrid>

			<p:commandButton value="Pagar" action="#{beanPlano.pagar}"
				update=":form" />

			<p:commandButton value="Alterar Plano"
				onclick="PF('dEditarPlano').show()" update=":form:pnPlano" />

			<p:separator />
		</p:panel>

		<!-- 
*******************************************************************************
							DIALOG MANTER CLIENTE
*******************************************************************************
-->
		<p:dialog header="Alterar Plano" widgetVar="dEditarPlano" modal="true"
			dynamic="true" id="dmPlano" resizable="false">
			<ui:include src="/views/plano/pManterPlano.xhtml"></ui:include>
		</p:dialog>

	</ui:define>
</ui:composition>
</html>
